<!DOCTYPE HTML>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1" name="viewport">
        <title>DICOM de-identification and curation tool</title>
        <link href="data:," rel="icon">
        <script defer src="https://cdn.jsdelivr.net/g/filesaver.js"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/dcmjs@latest/build/dcmjs.min.js"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/jszip@latest/dist/jszip.min.js"></script>
        <script defer src="python/prm/dicom-tag-to-nema-action.js"></script>
        <script defer src="script.js"></script>
    </head>

    <body style="display:none;">
        <nav>
            <a href="https://cordis.europa.eu/project/id/952179"><img alt="INCISIVE Cordis webpage" src="https://incisive-project.eu/wp-content/uploads/2021/01/incisive-header-logo.svg" height="20"></a> | <a href="https://github.com/pbizopoulos/dicom-de-identification-and-curation-tool">Source code</a> | <a href="https://pbizopoulos.github.io/incisive.iti.gr">Home page</a> / <b>DICOM de-identification and curation tool</b>
        </nav>
        <h3>Input</h3>
        <div>
            <label for="load-directory-input-file">Load directory with DICOM files:</label>
            <input id="load-directory-input-file" name="load-directory-input-file" type="file" webkitdirectory multiple>
        </div>
        <div>
            <label>Files size total:</label>
            <span id="files-size-total-span">0</span>
        </div>
        <div>
            <label for="load-session-input-file">Load session file:</label>
            <input accept=".json" id="load-session-input-file" name="load-session-input-file" type="file">
        </div>
        <h3>De-identification options</h3>
        <div><i>Based on <a href="https://dicom.nema.org/medical/dicom/current/output/chtml/part15/chapter_e.html"> DICOM PS3.15</a></i></div>
        <div>
            <label for="retain-safe-private-input-checkbox">Retain safe private:</label>
            <input id="retain-safe-private-input-checkbox" name="retain-safe-private-input-checkbox" type="checkbox" checked>
        </div>
        <div>
            <label for="retain-uids-input-checkbox">Retain UIDs:</label>
            <input id="retain-uids-input-checkbox" name="retain-uids-input-checkbox" type="checkbox" checked>
        </div>
        <div>
            <label for="retain-device-identity-input-checkbox">Retain device identity:</label>
            <input id="retain-device-identity-input-checkbox" name="retain-device-identity-input-checkbox" type="checkbox" checked>
        </div>
        <div>
            <label for="retain-patient-characteristics-input-checkbox">Retain patient characteristics:</label>
            <input id="retain-patient-characteristics-input-checkbox" name="retain-patient-characteristics-input-checkbox" type="checkbox" checked>
        </div>
        <div>
            <label for="date-processing-select">Date processing:</label>
            <select id="date-processing-select" name="date-processing-select">
                <option value="offset">offset</option>
                <option value="keep">keep</option>
                <option value="remove">remove</option>
            </select>
        </div>
        <div>
            <label for="retain-descriptors-input-checkbox">Retain descriptors:</label>
            <input id="retain-descriptors-input-checkbox" name="retain-descriptors-input-checkbox" type="checkbox" checked>
        </div>
        <h3>Curation options</h3>
        <div>
            <label for="patient-pseudo-id-prefix-input-text">Patient pseudo-ID prefix:</label>
            <input id="patient-pseudo-id-prefix-input-text" name="patient-pseudo-id-prefix-input-text" placeholder="e.g. an organization ID" type="text">
        </div>
        <div>
            <label for="dicom-tag-save-path-input-text">Save path:</label>
            <input id="dicom-tag-save-path-input-text" name="dicom-tag-save-path-input-text" pattern="([0-9A-E]{8}/)*" type="text" placeholder="8 digit or capital letter groups separated with forward slash" value="00100020/00080060/00200011/" size="24" disabled>
        </div>
        <h3>Output</h3>
        <div>
            <label></label>
            <button id="save-processed-files-as-zip-button" type="submit">Save processed files as zip</button>
        </div>
        <div>
            <label>Files processed:</label>
            <span id="files-processed-num-span">0/0</span>
        </div>
        <div>
            <label>DICOM tag values removed:</label>
            <span id="dicom-tag-values-removed-num-span">0</span>
        </div>
        <div>
            <label>DICOM tag values replaced:</label>
            <span id="dicom-tag-values-replaced-num-span">0</span>
        </div>
        <div>
            <label>Zip progress:</label>
            <span id="zip-progress">0%</span>
        </div>
    </body>

</html>
