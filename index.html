<!DOCTYPE HTML>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta content="width=device-width, initial-scale=1" name="viewport">
		<title>DICOM de-identification and curation web application</title>
		<link href="data:," rel="icon">
		<link href="https://pbizopoulos.github.io/style.css" rel="stylesheet">
		<script defer src="https://cdn.jsdelivr.net/npm/dcmjs@latest/build/dcmjs.min.js"></script>
		<script defer src="https://cdn.jsdelivr.net/npm/jszip@latest/dist/jszip.min.js"></script>
		<script defer src="node/release/nema-modified-table.js"></script>
		<script defer src="script.js"></script>
	</head>
	<body>
		<div id="div-header">
			<div id="div-navigation">
				<a href="https://cordis.europa.eu/project/id/952179">
					<img alt="INCISIVE Cordis webpage" src="incisive-header-logo.svg" height="20">
				</a>
				<a href="https://pbizopoulos.github.io/incisive">Home page</a> /
				<b>DICOM de-identification and curation</b>
			</div>
			<div id="div-source-code-link">
				<a href="https://github.com/pbizopoulos/dicom-de-identification-and-curation" id="sourceCodeUrl">Source code</a>
			</div>
		</div>
		<div>
			<b>Input</b>
		</div>
		<div>
			<label for="loadFilesInputFile">Load files:</label>
			<input id="loadFilesInputFile" name="loadFilesInputFile" onchange="onloadFilesOrDirectory();" type="file" multiple>
		</div>
		<div>
			<label for="loadDirectoryInputFile">Load directory:</label>
			<input id="loadDirectoryInputFile" name="loadDirectoryInputFile" onchange="onloadFilesOrDirectory();" type="file" webkitdirectory directory multiple>
		</div>
		<div>
			<label for="loadPatientIdsInputFile">Load patient IDs:</label>
			<input accept=".csv" id="loadPatientIdsInputFile" name="loadPatientIdsInputFile" onchange="onloadPatientIdsInputFile();" type="file">
		</div>
		<div>
			<b>De-identification options</b>
		</div>
		<div>
			<label for="retainUidsInputCheckbox">Retain UIDs:</label>
			<input id="retainUidsInputCheckbox" name="retainUidsInputCheckbox" type="checkbox" checked>
		</div>
		<div>
			<label for="retainDatesInputCheckbox">Retain Dates:</label>
			<input id="retainDatesInputCheckbox" name="retainDatesInputCheckbox" type="checkbox" checked>
		</div>
		<div>
			<label for="retainDescriptionsInputCheckbox">Retain Descriptions:</label>
			<input id="retainDescriptionsInputCheckbox" name="retainDescriptionsInputCheckbox" type="checkbox" checked>
		</div>
		<div>
			<b>Curation options</b>
		</div>
		<div>
			<label for="patientIdPrefixInputText">Patient ID prefix:</label>
			<input id="patientIdPrefixInputText" name="patientIdPrefixInputText" placeholder="e.g. an organization ID" type="text">
		</div>
		<div>
			<label for="dicomTagSavePathInputText">Save path:</label>
			<input id="dicomTagSavePathInputText" name="dicomTagSavePathInputText" pattern="([0-9A-E]{8}/)*" type="text" placeholder="8 digit or capital letter groups separated with forward slash" value="00100020/00080060/00200011/" size="24" disabled>
		</div>
		<div>
			<b>Output</b>
		</div>
		<div>
			<label></label>
			<button id="saveProcessedFilesAsZipButton" type="submit">Save processed files as zip</button>
		</div>
		<div>
			<label>Files processed:</label>
			<span id="filesProcessedNumSpan">0/0</span>
		</div>
		<div>
			<label>DICOM tag values removed:</label>
			<span id="dicomTagValuesRemovedNumSpan">0</span>
		</div>
		<div>
			<label>DICOM tag values replaced:</label>
			<span id="dicomTagValuesReplacedNumSpan">0</span>
		</div>
	</body>
</html>
